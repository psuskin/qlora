Dies ist die Beschreibung des Moduls "logfistx" mit dem Namen "Auswertung Log Datei": Auswertung: Performance Auf was sollte bei der Auswertung der Logfiles geachtet werden, bzw. was sind Hinweise für optimierbaren Code? Auswertung: Systemabstürze Blockadeauslöser - Baumansicht Mit diesem Modul werden verschiedene Auswertungen zu Log-Dateien erstellt und entsprechend angezeigt. Die Dateien werden nach Sitzungen (Sessions) ausgelesen (Start von ClassiX® bis Ende bzw. Absturz). Die restlichen Einträge der Log Datei werden somit den erstellten Sitzungen zugeordnet. Werden zusätzlich noch dbProf Dateien eingelesen, so werden diese Einträge anhand der OS Client ID den Sitzungen zugeordnet, wenn möglich. Per Option kann gesetzt werden, ob vor jedem Einlesen die bisherigen Sitzungen zurückgesetzt werden sollen oder nicht. Wenn diese Option nicht gesetzt ist, können leicht viele Tage hintereinander eingelesen werden.Es können entweder mehrere selektierte Dateien, ganze Ordner eingelesen werden (Unterordner werden automatisch berücksichtigt) oder eine Zeitspanne angegeben werden, in der alle Log-Dateien automatisch gesucht und geladen werden. Das Angeben einer Zeitspanne eignet sich am besten in MorphIT, da der MorphIT-Benutzer sich nicht um den Speicherort der Log-Dateien kümmern muss und darum, ob sie sich auf demselben Rechner befinden, zumal in diesem Fall keine Dateien hochgeladen werden müssen. Das automatische Auslesen von Logdateien je nach Zeitspanne setzt voraus, dass die Logdateien in einer zeitlichen Unterordnerstruktur abgespeichert sind, d.h. die folgende Option muss in logging.ini aktiviert sein.log4cplus.OrganizeLogsByDate=trueDas Auswählen einzelner Dateien erlaubt es außerdem, Dateien für Sitzung aus verschiedenen Zeitspannen und Punkten nebeneinander zu betrachten.Neben den Sitzungen und Benutzeranmeldungen werden bestimmte Vorkommnisse wie Deadlocks, Timeouts, Abstürze, etc. zusätzlich in Monitore sitzungsübergreifend zusammengefasst. Nach dem Einlesen werden alle Sitzungen in der Sitzungsliste mit den wichtigsten Daten dargestellt. Eine Sitzung wird per Doppelklick geöffnet und man sieht somit, was passiert ist. In der Lasche Statistiken lassen sich flexibel grafische Auswertungen erstellen. Die Monitore können beliebig den Diagrammen zugeordnet werden. Es gibt maximal 3 Diagramme, wobei immer nur ein Monitor einem Diagramm zugeordnet werden kann. Man kann die Monitore per Drag&Drop in die Diagramm-Bereiche ziehen oder einen Monitor auswählen und dann auf den entsprechenden Button "Monitor hinzufügen" klicken. Bei dbProf Statistiken kann nach einem Doppelklick die gewünschte Auswertung ausgewählt werden.Im Optionsbereich X-Achse kann man die Auswertungsvariante auswählen, wodurch die Transkationen je nach Uhrzeit oder Datum ausgewerten werden. Bei einer Auswertung über die Uhrzeit werden alle Transaktionen gemäß ihrer Uhrzeit zusammengefasst, sodass man beispielsweise sehen kann, welche Ereignisse zu welcher Uhrzeit des Tages sich ereignet haben. In diesem Fall ist es sinnvoll, dass man nur Sitzungen von einem einzigen Tag lädt bzw. auswählt. Die Uhrzeitspanne und die Periodenlänge der Auswertung kann man im Bereich Optionen festlegen. Die Periodenlänge bestimmt selbsterklärend die Genauigkeit der Statistiken. Für minutengenaue Statistiken sollte man eine Periodenlänge von 1 min auswählen, was jedoch zu umfangreichen Graphen führen könnte. Möchte man hingegen eine zusammenfassende Auswertung über mehrere Tage vornehmen, sollte man die Option über das Datum auswählen. Dabei werden alle Transaktionen eines bestimmten Monitors je in Tage zusammengefasst und graphisch dargestellt. Dabei könnte man auch unter Optionen die Tageszeit auswählen, außerhalb derer die Transaktionen nicht in Betracht gezogen werden. Der Monitor Benutzer hat die Besonderheit, dass er neben der normalen Auswertung der Anmeldung auch die maximale Anzahl der gleichzeitigen Benutzung von ClassiX an einem Tag graphisch darstellt.Es können entweder "Alle Sitzungen" oder "Nur selektierte Sitzungen" als Option gesetzt werden. Bei der Option "Alle Sitzungen" werden alle geladenen Sitzungen für die Auswertung benutzt, ansonsten nur die in der Sitzungsliste selektierten Sitzungen. Die Option "Alle Sitzungen" kann genutzt werden um nur dbProf Dateien verschiedener Tage einzulesen und zu vergleichen. Somit ist es nicht nötig von jedem Tag alle Dateien einzulesen.Für beliebig viele Monitore können die Transaktionen innerhalb einer Zeitspanne betrachtet werden. Somit lässt sich eventuell innerhalb eine begrenzten Zeitraums leichter nachvollziehen welche Vorkommnisse voneinander abhängig sind.In der Lasche Blockaden/ Abstürze/ Locks werden die für die selektierten Sessions vorhin erwähnte Transaktionen angezeigt. Die Locking Konflikte können in einer Zusammenfassung nach "Locked By" (Wer sperrt die anderen?) und Segment betrachtet werden.Rote Zeilen in einer Liste oder auch ListView Fatals genannt (Abstürze innerhalb einer ListView), werden in selbiger Lasche zusammengefasst angezeigt.RO sowie RW Langläufer Transaktionen werden nach der Stelle zusammengefasst und in der Lasche Langläufer TXNs angezeigt. Weiter ist darin die Durchschnittsdauer sowie die durchschnittliche Anzahl gelesener Pages ausgegeben.IV Fehler werden in einer eigenen Lasche zusammengefasst dargestellt. Dies ist die Beschreibung der Funktionalität des Moduls "logfistx" mit dem Namen "Auswertung Log Datei" bezüglich Auswertung: Performance: Folgende Möglichkeiten stehen für die Auswertung der Performance und dem Ermitteln der Ursachen einer guten/schlechten Performance zu Verfügung:. Dies ist die Beschreibung der Funktionalität des Moduls "logfistx" mit dem Namen "Auswertung Log Datei" bezüglich Worauf sollte bei der Auswertung der Logfiles geachtet werden, bzw. was sind Hinweise für optimierbaren Code?: 1. Auswerten der Blockaden 2. Blockaden-Netze darstellen: 3. Prüfen, ob in der rechten Liste als oberste Einträge Zeilen stehen, die in der Spalte „Anzahl“ einen Wert höher als 50 stehen haben, bzw. sehr viele mit hohen Anzahlen (also z.B. die ersten 15 Einträge mehr als 20 Blockaden in der Spalte Anzahl): 4. Langläufer TXN begutachten: Wenn Langläufer, die als Blockadeauslöser gekennzeichnet wurden (zweite Spalte) mit mehr als zwei Minuten in der Liste auftauchen: 5. Statistik: Wenn mehr als 600 Blockaden aufgetreten sind:. Dies ist die Beschreibung der Funktionalität des Moduls "logfistx" mit dem Namen "Auswertung Log Datei" bezüglich Auswertung: Systemabstürze: Für die Auswertung der Systemabstürze müssen die Log-Files der Clients geladen werden, die des Servers (cxdbprof.log) kann ignoriert werden. Über einen Doppelklick auf den Monitor "Abstürze" in der Liste der Monitore werden alle Abstürze angezeigt. In der Liste wird jeder Absturz durch drei Spalten beschrieben. (Fehlermeldung des Absturzes, ist zuvor ein Deadlock aufgetreten, Ausgabe des C++ Stacks) Um eine Tendenz der Anzahl der Abstürze zu erfassen oder die Zu-/Abnahme von Fehlern durch ein Diff zu bestimmen ist es wichtig Kennzahlen zu erfassen. Dies Ausgabe der Kennzahlen erfolgt über den entsprechenden Button. Durch ein tägliches Übertragen der Kennzahlen nach Excel ist es möglich, Aussagen über den Verlauf treffen zu können. Folgende Kennzahlen stehen zur Verfügung:. Dies ist die Beschreibung der Funktionalität des Moduls "logfistx" mit dem Namen "Auswertung Log Datei" bezüglich Listenfenster: Um eine Auswertung vorzunehmen müssen erst beliebig viele Log-Dateien ausgewählt werden. Die Log-Dateien werden zuerst nach Sitzungen (Sessions) ausgewertet. Eine Sitzung bezeichnet die Dauer vom Start von ClassiX® bis zum Beenden bzw. Systemabsturz. Wird während einer Sitzung eine weitere ClassiX® Instanz gestartet so wird in der aktuellen Sitzung ein Zähler erhöht. Falls die Option "Bei jedem Einlesen von Log Dateien Sessions zurücksetzen" nicht gesetzt ist, so können Log Dateien hintereinander eingelesen werden ohne, dass die bisher eingelesenen Sitzungen verloren gehen. Falls eine Datei endet, bevor eine Session beendet ist, wird zum Zeitpunkt des letzten Events als Session-Endzeitpunkt gesetzt. Beginnt eine Log Datei nicht mit dem Start von ClassiX®, so wird eine Session erstellt, die den Startzeitpunkt des ersten Events der Datei übernimmt. Falls beim Einlesen Fehler auftreten, so können diese nachher im Fenster Fehler beim Einlesen eingesehen werden. Spalten der Session Liste: Per Doppelklick auf eine Session öffnet sich das Session Fenster. Die Auswertungen für die Listen, Blockaden/Abstürze/Locks, ListView Fatals, Langläufer TXNs und IV Fehler werden immer sofort für die im Moment ausgewählten Sessions erstellt und angezeigt. Dies ist die Beschreibung der Funktionalität des Moduls "logfistx" mit dem Namen "Auswertung Log Datei" bezüglich ListView Fatals: In dieser Liste werden die ListView Fatals (Harte Abstürze innerhalb einer ListView - Rote Zeilen) für die selektierten Sessions angezeigt. Sollten diese öfter an einer Stelle auftreten, so werden diese zusammengefasst dargestellt. Durch einen Doppelklick auf einen Listeneintrag werden die enthaltenen Transaktionen im Fenster Enthaltene Transaktionen dargestellt. Instantview Fehler In dieser Liste werden die Instantview Fehler für die selektierten Sessions angezeigt. Gleiche Fehler werden zusammengefasst. Durch einen Doppelklick auf einen Listeneintrag werden die enthaltenen Transaktionen im Fenster Enthaltene Transaktionen dargestellt. Dies ist die Beschreibung der Funktionalität des Moduls "logfistx" mit dem Namen "Auswertung Log Datei" bezüglich Session: In diesem Fenster werden alle in der Session enthaltenen Transaktionen nach Zeitstempel sortiert angezeigt. Transaktionen, welche in einem Monitor gehalten werden, erscheinen rot in der Liste (außer der dbProf Statistiken). Dies ist die Beschreibung der Funktionalität des Moduls "logfistx" mit dem Namen "Auswertung Log Datei" bezüglich Enthaltene Transaktionen: In diesem Fenster werden alle im Zeitraum enthaltenen Transaktionen nach Zeitstempel sortiert angezeigt. Dies ist die Beschreibung der Funktionalität des Moduls "logfistx" mit dem Namen "Auswertung Log Datei" bezüglich Locking Zusammenfassung: Die Locking Konflikte werden zusammengefasst nach Locked by und nach Segment. Um die einzelnen Locks einzusehen, müssen einfach nur die entsprechenden Zusammenfassungen selektiert werden und Locks werden in der Liste Locking Konflikte angezeigt. Dies ist die Beschreibung der Funktionalität des Moduls "logfistx" mit dem Namen "Auswertung Log Datei" bezüglich Fehler beim Einlesen: Hier werden die beim Einlesen entstandenen Fehler angezeigt. Dies ist die Beschreibung der Funktionalität des Moduls "logfistx" mit dem Namen "Auswertung Log Datei" bezüglich Auswertung: In diesem Fenster werden die Diagramme der Auswertung angezeigt. Dies ist die Beschreibung der Funktionalität des Moduls "logfistx" mit dem Namen "Auswertung Log Datei" bezüglich Blockadeauslöser - Baumansicht: Wenn Benutzer zeitaufwendige Buchungen erstellen, kann es passieren, dass andere Benutzer in ihrer Tätigkeit behindert werden, da einzelne Daten durch die Buchung exklusiv gesperrt sind. Die anderen Benutzer warten dann auf das Transaktionsende, bevor sie weiter machen können. Sie bemerken diesen Umstand nur durch eine verlängerte Dauer der Aktion, die sie gerade durchführen wollen. Ein solches Verhalten nennt man Blockade. Solange der Benutzer nun auf die Freigabe seiner Daten wartet, kann es passieren, dass er auch bereits Daten für sich gesperrt hat, auf die dann wieder weitere andere Benutzer warten müssen. Ähnlich dem Schneeballsystem könnte sich also in einem ungünstigen Fall ein Geflecht an Blockaden entwickeln, welches alles durch die zeitaufwendige Buchung des ersten Benutzers ausgelöst wurde. Um solche zeitaufwendigen Buchungen, die viele Benutzer blockieren, ausfindig machen zu können, gibt es diese Baumansicht. Man kann hier erkennen, wer der erste Blockierer war, wen er blockiert hat, und wer durch die weiteren Benutzer blockiert wurde. Benutzer, die nur blockiert wurden, ohne die Blockade selbst ausgelöst zu haben, werden in diesem Baum nicht an oberster Ebene mit angezeigt. Das Verhalten des Schneeballsystems gilt es durch gezielte Verbesserungen des Quellcodes zu verhindern - diese Baumansicht soll dabei helfen, die kritischen Programmstellen ausfindig zu machen. Dies ist die Beschreibung der Funktionalität des Moduls "logfistx" mit dem Namen "Auswertung Log Datei" bezüglich System Abstürze: Wenn in einer LogFile der Loglevel "FATAL" erscheint deutet dies daraufhin, dass das System abgestürzt ist. Die nächste Meldung mit dem LogLevel "ERROR" ist die Absturzmeldung die auf dem Bildschirm erscheint. Die laufende Session wird geschlossen und für diese aktuelle Transaktion (Absturz Meldung) mit dem Datenfeld "settings" gekennzeichnet. Die einzige Ausnahme bildet ein "FATAL" vom Logger "cx.listview". Bei diesem stürzt das System nicht ab, da die ListView das abfängt. Stürzt das System ohne eine Fehlermeldung ab so wird die letzte Transaktion (LogLevel "FATAL") als Session Ende betrachtet und in der Liste der Abstürze angezeigt. (StopAllSessionsOfLogFile) Ermittlung: + cx.app INFO “Signal catched: SIGABRT” + cx.app ERROR + cx.main FATAL + FATAL Sessionende.