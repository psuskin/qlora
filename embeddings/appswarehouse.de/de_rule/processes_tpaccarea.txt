Dies ist die Beschreibung des Moduls "processes_tpaccarea" mit dem Namen "Buchungskreise (Detailinformationen)": Um auch für z.B. Fremdlager, unabhängig vom lokalen Lagerbestand, termingerecht disponieren zu können, sind Buchungskreise notwendig. Es werden alle logistischen und dispositiven Bewegungen und Mengen nach Buchungskreisen getrennt in Untermonitoren mitgeführt. Eine Betrachtung der gesamten Prozesse ist so pro Buchungskreis möglich.Ein Buchungskreis kann mit jedem Geschäftsobjekt verbunden werden, wie zum Beispiel einem Lager oder einer Kostenstelle. Meist finden Buchungskreise bei Lager Anwendung, die über getrennte Buchungskreis verwaltet werden sollen. Auf dem Buchungskreis kann dann z.B. angegeben werden, ob seine Lagermengen bzw. Bedarfe auch im Gesamtkonto des Teils geführt sollen oder nicht (gemeinsame oder getrennte Teiledisposition - Bedarfs-Bestandslisten).Im CyberEnterprise business OS kann jeder Beleg nur für einen Buchungskreis gelten (die Zuordnung zu einem Buchungskreis erfolgt über den Slot areaAccount). Wird kein Buchungskreis angegeben, so wird der Beleg nur in die globalen Monitore gebucht. Ist ein Buchungskreis z.B. einem Lager zugeordnet, auf dem das Kennzeichen "keine Disposition" gesetzt ist, so werden die Bewegungsdaten NICHT auf den globalen Monitoren verbucht, sondern AUSSCHLIEßLICH auf den Buchungskreismonitoren.Entsteht ein Folgebeleg für einen Beleg mit Buchungskreis, so wird der Buchungskreis auch direkt mit auf den Folgebeleg übernommen. Der gesamte Dispositionsprozess ist somit in einem Buchungskreis enthalten.Sind Buchungskreise eingerichtet kann z.B. das Dispositionskonto eines Teils über alle Buchungskreise oder für einen bestimmten Buchungskreis angezeigt werden. Gleiches gilt für die Bedarfs-/Bestandsliste.Technische ImplementationEin Buchungskreis wird mit der Klasse CX_ACCOUNTING_AREA (und der eigenen Kontenklasse CX_AREA_ACCOUNT) abgebildet, die über clearingObjects mit jedem Geschäftsobjekt verbunden werden kann. Buchungskreise werden über die Klasse CX_ACCOUNTING_AREA_CHART strukturiert. Der CX_AREA_ACCOUNT besitzt dann für jedes Teil, welches über ihn verbucht wird, zwei CX_LOG_CUBE als subMonitor. Auf dem subMonitor, der mit der anderen Dimension auf den CX_STOCK_ACCOUNT des Teils weist, stehen die Minimal- und Maximalbestände des Teils an diesem Buchungskreis. Hier werden ebenfalls die gebuchten Bestände mitgeführt, was eine separate Bestandsauskunft für den Buchungskreis somit möglicht. Eine direkte Verbindung zum Lager muss es allerdings nicht geben, da der Buchungskreis ja auch mit einem anderen Objekt verbunden sein kann. Der zweite CX_LOG_CUBE subMonitor weist mit der anderen Dimension auf den CX_DISPO_ACCOUNT des Teils und bildet somit eine Untermenge der gebuchten Bedarfe und Bedarfsdecker, nur für diesen Buchungskreis.Im Logistikkonto eines Teils können spezifisch für jeden Buchungskreis die Min-/Max. Bestände, sowie die Bereitstellungsart und das Logistikkennzeichen separat geführt werden. Dies ist durch das interne Wrappen der Verbindung über DimensionByCondition("type(this)=CX_STOCK_ACCOUNT") auf dem CX_LOG_CUBE realisiert. Ist beim Speichern eines solchen CX_LOG_CUBEs die Verbindung noch nicht gewrappt, so wird dies beim ersten Speichern nachgeholt. Ebenfalls ist die Verbindung vom Logcube zum Dispokonto gewrappt.Das Kennzeichen, ob auf dem globalen Konten gebucht werden soll, ist nicht am Lager hinterlegt, sondern wird durch den Buchungskreis bestimmt.Auf dem untersten Knoten der hierarchisch angeordneten Buchungskreise befindet sich ein Kennzeichen, das binär verschlüsselt steuert, wie weit über ihm die Belege ebenfalls registriert werden. 0 = gar nicht. 1 = nur im verlinkten Buchungskreis. 3 = Im verlinkten Buchungskreis und dem übergeordneten BuchungskreisVerbuchung:Bei CX_STOCK_ACCOUNT Submonitors werden die Belege auch IMMER mit in die transactions collection des CX_STOCK_ACCOUNT gebucht, auch wenn keine Hauptkontenbuchung am Buchungskreis gesetzt ist. Es wird in diesem Fall aber nur die total.quantity hochgezählt, nicht die current.quantityBei CX_DISPO_ACCOUNT Submonitoren wird der Beleg für einen Buchungskreis ohne Hauptkontenbuchung NICHT mit in die transactions collection aufgenommen, sondern ausschließlich in die Subkonten gebucht.